
cc.Class({
    name: "gameStatus",
    statics: {
        // 第一次进入游戏
        firstEnterGameFlag: true,
        // 游戏是否结束
        gameOver: false,
        // 是否处于玩游戏的过程
        isPlaying: false,
        // score
        score: 0,
        // 目标关卡
        targetCheckPoint: 680,
        // 关卡
        checkPoint: 0,
        // 变大等级
        bigLevel: 1,
        // 变快等级
        speedLevel: 1,
        // 连击图片
        hitPicCounts: 27,
        // 玩家每级增加的尺寸
        playerAddSize: 10,
        // 玩家每级增加的速度
        playerAddSpeed: 200,
        //存储任务数据的key
        taskKey: 'taskClickData',
        // 敌人 大小尺寸
        enemySize: [4,3.5,3,2.5,2,1.7,1.5,1.3,1.2,1.1,1],
        enemyProbabilitySize: [
            [0.7,  0.2,   0.1,   0,     0,    0,    0,    0,    0,    0,    0],
            [0.5,  0.3,   0.15,  0.05,  0,    0,    0,    0,    0,    0,    0],
            [0.3,  0.3,   0.15,  0.1,   0.05, 0,    0,    0,    0,    0,    0],
            [0.2,  0.3,   0.2,   0.1,   0.1,  0,    0,    0,    0,    0,    0],
            [0.1,  0.3,   0.25,  0.2,   0.1,  0.05, 0,    0,    0,    0,    0],
            [0.1,  0.3,   0.2,   0.15,  0.1,  0.1,  0.05, 0,    0,    0,    0],
            [0.05, 0.25,  0.2,   0.2,   0.15, 0.1,  0.05, 0,    0,    0,    0],
            [0,    0.25,  0.2,   0.2,   0.15, 0.1,  0.05,  0.05, 0,    0,    0],
            [0,    0.15,  0.2,   0.2,   0.2,  0.1,  0.1,   0.05, 0,    0,    0],
            [0,    0.1,   0.2,   0.2,   0.2,  0.15, 0.1 ,  0.05, 0,    0,    0],

            [0,    0.15,  0.2,   0.2,   0.2,  0.1,  0.05,  0.05, 0.05, 0,    0],
            [0,    0.15,  0.15,  0.2,   0.2,  0.1,  0.1,   0.05, 0.05, 0,    0],
            [0,    0.15,  0.15,  0.2,   0.2,  0.1,  0.1 ,  0.05, 0.05, 0,    0],
            [0,    0.1,   0.15,  0.25,  0.2,  0.1,  0.1 ,  0.05, 0.05, 0,    0],
            [0,    0.1,   0.15,  0.2,   0.2,  0.15, 0.1,   0.05, 0.05, 0,    0],
            [0,    0.1,   0.1,   0.2,   0.2,  0.2,  0.1,   0.05, 0.05, 0,    0],
            [0,    0.05,  0.15,  0.2,   0.2,  0.15, 0.1,   0.1,  0.05, 0,    0],
            [0,    0.05,  0.15,  0.15,  0.2,  0.2,  0.1 ,  0.1,  0.05, 0,    0],
            [0,    0.05,  0.15,  0.15,  0.2,  0.2,  0.05,  0.1,  0.05, 0.05, 0],
            [0,    0,     0.15,  0.2,   0.2,  0.2,  0.05,  0.1,  0.05, 0.05, 0],

            [0,    0,     0.15,  0.2,   0.2,  0.2,  0.1,  0.1,   0.05, 0,    0],
            [0,    0,     0.15,  0.2,   0.2,  0.2,  0.1,   0.1,  0.05, 0,    0],
            [0,    0,     0.1,   0.15,  0.25, 0.2,  0.1,   0.1,  0.1,  0,    0],
            [0,    0,     0.1,   0.15,  0.2,  0.2,  0.1,   0.1,  0.1,  0.05, 0],
            [0,    0,     0.1,   0.15,  0.2,  0.2,  0.1,   0.1,  0.1,  0.05, 0],
            [0,    0,     0.05,  0.10,  0.2,  0.2,  0.15,  0.1,  0.1,  0.1,  0],
            [0,    0,     0.05,  0.10,  0.2,  0.2,  0.15,  0.1,  0.1,  0.1,  0],
            [0,    0,     0.05,  0.10,  0.15, 0.2,  0.15,  0.1,  0.1,  0.1,  0.05],
            [0,    0,     0.05,  0.10,  0.1,  0.25, 0.15,  0.1,  0.1,  0.1,  0.05],
            [0,    0,     0,     0.10,  0.1,  0.2,  0.2,   0.1,  0.1,  0.1,  0.1],

            [0,    0,     0,     0.10,  0.2,  0.2,  0.1,   0.1,  0.1,  0.1,  0.1],
            [0,    0,     0,     0.10,  0.2,  0.2,  0.1,   0.1,  0.1,  0.1,  0.1],
            [0,    0,     0,     0.05,  0.15, 0.2,  0.2,   0.1,  0.1,  0.1,  0.1],
            [0,    0,     0,     0,     0.1,  0.25,  0.2,  0.15, 0.1,  0.1,  0.1],   
        ],
        enemySpeed: [450,625,800],
        enemyProbabilitySpeed:[
            [0.7,  0.2,   0.1],
            [0.65, 0.25,  0.1],
            [0.6,  0.3,   0.1],
            [0.55, 0.3,   0.15],
            [0.5,  0.3,   0.2],
            [0.45, 0.35,  0.2],
            [0.4,  0.35,  0.25],
            [0.35, 0.4,   0.25],
            [0.3,  0.45,  0.25],
            [0.25, 0.45,  0.3],
    
            [0.45, 0.35,  0.2],
            [0.4,  0.35,  0.25],
            [0.35, 0.4,   0.25],
            [0.3,  0.45,  0.25],
            [0.25, 0.45,  0.3],
            [0.25, 0.4,   0.35],
            [0.2,  0.4,   0.4],
            [0.3,  0.3,   0.4],
            [0.2,  0.35,  0.45],
            [0.15, 0.4,   0.45],
      
            [0.25, 0.4,   0.35],
            [0.2,  0.4,   0.4],
            [0.3,  0.3,   0.4],
            [0.2,  0.35,  0.45],
            [0.15, 0.4,   0.45],
            [0.3,  0.3,   0.4],
            [0.2,  0.35,  0.45],
            [0.15, 0.4,   0.45],
            [0.1,  0.4,   0.5],
            [0.15, 0.35,  0.5],
    
            [0.1,  0.4,   0.5],
            [0.15, 0.35,  0.5],
            [0.1,  0.3,   0.6],
            [0.1,  0.3,   0.6],
        ],
        enemyDis: [130,290,450],
        enemyProbabilityDis: [
            [0.7,  0.2,   0.1],
            [0.65, 0.25,  0.1],
            [0.6,  0.3,   0.1],
            [0.55, 0.3,   0.15],
            [0.5,  0.3,   0.2],
            [0.45, 0.35,  0.2],
            [0.4,  0.35,  0.25],
            [0.35, 0.4,   0.25],
            [0.3,  0.45,  0.25],
            [0.25, 0.45,  0.3],

            [0.45, 0.35,  0.2],
            [0.4,  0.35,  0.25],
            [0.35, 0.4,   0.25],
            [0.3,  0.45,  0.25],
            [0.25, 0.45,  0.3],
            [0.25, 0.4,   0.35],
            [0.2,  0.4,   0.4],
            [0.3,  0.3,   0.4],
            [0.2,  0.35,  0.45],
            [0.15, 0.4,   0.45],
    
            [0.25, 0.4,   0.35],
            [0.2,  0.4,   0.4],
            [0.3,  0.3,   0.4],
            [0.2,  0.35,  0.45],
            [0.15, 0.4,   0.45],
            [0.3,  0.3,   0.4],
            [0.2,  0.35,  0.45],
            [0.15, 0.4,   0.45],
            [0.1,  0.4,   0.5],
            [0.15, 0.35,  0.5],

            [0.1,  0.4,   0.5],
            [0.15, 0.35,  0.5],
            [0.1,  0.3,   0.6],
            [0.1,  0.3,   0.6],
        ],
        // 敌人图片的个数
        enemyPicCounts: 11,
        // 敌人每张图片触发的概率
        enemyProbabilityPic:[0.04,0.05,0.06,0.07,0.08,0.09,0.1,0.11,0.12,0.13,0.15],
        // 敌人中心点显示的时间
        enemyCenterShowTime: 0.3,
        // 敌人出现的缩放时间
        enemyShowScaleTime: 0.3,
        // 敌人透明的时间
        enemyFadeTime: 0.3,
        // 敌人出现开始的倍数
        enemyStartScaleMul: 0.7,
        ///////////////// 背景数据 //////////////////
        bgCfgData: {
            // 背景改变的时间
            bgChangeTime:30,
            // 背景的个数
            bgCounts: 6,
            // 背景渐变的时间
            bgFadeTime: 3,
        },
        weChatData: {
            isLogin: false,
            appSecret: "4512c39c66615628c91cc49b896d4612",
            appId: "wxdfc7eb71a7ad9df6",
            code: "",
            keyList: ["wxdata"],
            shareTicket: "",
        },
        ///////// func /////////
        getDesignSize() {
            return cc.size(720,1280);
        },
        // 一个概率表
        getRandom(arr) {
            // fix 概率 不为1的问题
            let random = function(tv) {
                let randomC = cc.random0To1();
                let randomCount = Math.round(tv * randomC *100);
                // cc.log('最大值 ',tv, "||  真实", randomC, '||  *', randomCount);
                if(randomCount === tv*1*100) {
                    return random(tv);
                }
                return randomCount;
            }
            let tmpArr = [];
            let totalValue = 0;
            for (let i = 0; i < arr.length; i++) {
                totalValue += (arr[i]*100);
                for (let count = 0; count < arr[i]*100; count++) {
                    tmpArr.push(i);
                }
            }
            totalValue/=100;
            let index = random((totalValue));
            return tmpArr[index];
        },
        checkIsWeChat() {
            // CC_WECHATGAME
            return cc.sys.platform === cc.sys.WECHAT_GAME;
        },
        getShowScoreVal(counts) {
            return counts * 2;
        },
    },
});
